<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
    <head>
        <meta charset="UTF-8">
        <title>X√©t duy·ªát s·∫£n ph·∫©m</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
              crossorigin="anonymous"/>
        <style>
            .table thead {
                background-color: #0d6efd;
                color: #fff;
            }
            .table tbody tr:hover {
                background-color: #f1f6ff;
            }
            .img-box {
                width: 80px;
                height: 80px;
                border-radius: 8px;
                overflow: hidden;
                margin: auto;
                box-shadow: 0 2px 6px rgba(0,0,0,0.15);
            }
            .img-box img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
        </style>
    </head>
    <body>
        <th:block th:replace="~{base :: header}"></th:block>

        <main class="container my-4">
            <h2 class="mb-4 text-center text-primary fw-bold">üì¶ Danh s√°ch s·∫£n ph·∫©m ch·ªù x√©t duy·ªát</h2>

            <div th:if="${message}" class="alert alert-success text-center fw-semibold" role="alert"
                 th:text="${message}"></div>

            <div class="table-responsive shadow-sm">
                <table class="table align-middle table-hover text-center">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>T√™n s·∫£n ph·∫©m</th>
                            <th>Ng∆∞·ªùi ƒëƒÉng</th>
                            <th>Lo·∫°i</th>
                            <th>M√¥ t·∫£</th>
                            <th>·∫¢nh</th>
                            <th>Gi√° kh·ªüi ƒëi·ªÉm</th>
                            <th>B∆∞·ªõc nh·∫£y</th>
                            <th>B·∫Øt ƒë·∫ßu</th>
                            <th>K·∫øt th√∫c</th>
                            <th>H√†nh ƒë·ªông</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="sp, iterStat : ${sanPhamsChoDuyet}">
                            <td th:text="${iterStat.index + 1}"></td>
                            <td th:text="${sp.tenSanPham}"></td>
                            <td th:text="${sp.nguoiDung.hoTen}"></td>
                            <td th:text="${sp.loaiSanPham.tenLoai}"></td>
                            <td th:text="${sp.moTa}"></td>
                            <td>
                                <div class="img-box">
                                    <img th:src="${sp.hinhAnh}" alt="·∫¢nh s·∫£n ph·∫©m"/>
                                </div>
                            </td>
                            <td th:text="${#numbers.formatDecimal(sp.giaKhoiDiem, 0, 'COMMA', 2, 'POINT')} + ' ƒë'"></td>
                            <td th:text="${sp.buocNhay}"></td>
                            <td th:text="${#dates.format(sp.ngayDang, 'dd/MM/yyyy HH:mm')}"></td>
                            <td th:text="${#dates.format(sp.thoiGianKetThuc, 'dd/MM/yyyy HH:mm')}"></td>
                            <td>
                                <form th:action="@{/admin/duyet-san-pham}" method="post" class="d-inline">
                                    <input type="hidden" name="id" th:value="${sp.id}"/>
                                    <input type="hidden" name="action" value="duyet"/>
                                    <button type="submit" class="btn btn-outline-success btn-sm mb-1">
                                        ‚úÖ Duy·ªát
                                    </button>
                                </form>
                                <form th:action="@{/admin/duyet-san-pham}" method="post" class="d-inline">
                                    <input type="hidden" name="id" th:value="${sp.id}"/>
                                    <input type="hidden" name="action" value="khong_duyet"/>
                                    <button type="submit" class="btn btn-outline-danger btn-sm">
                                        ‚ùå T·ª´ ch·ªëi
                                    </button>
                                </form>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </main>

        <div th:replace="base :: footer"></div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
    </body>
</html>
